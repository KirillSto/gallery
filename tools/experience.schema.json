{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://gallery.any.coop/experience.schema.json",
  "title": "Anytype Experience",
  "description": "Experience shared in Anytype Gallery",
  "type": "object",
  "properties": {
    "id": {
      "description": "The unique identifier for an experience",
      "type": "string"
    },
    "name": {
      "type": "string",
      "title": "Name/identifier",
      "pattern": "^[a-z0-9-][a-z0-9-_]*$",
      "maxLength": 255,
      "minLength": 2,
      "description": "The experience's name will be used internally as a folder name in the Gallery."
    },
    "author": {
      "$ref": "#/$defs/githubLink",
      "title": "Author",
      "description": "A person currently contributing the most to the experience."
    },
    "license": {
      "const": "MIT",
      "title": "License",
      "description": "Currently only MIT is accepted, although more licenses will be available after alpha."
    },
    "title": {
      "type": "string",
      "title": "Title",
      "pattern": "^[^\\s]+(?: [^\\s]+)*$",
      "maxLength": 255,
      "minLength": 2,
      "description": "The experience title will be displayed in the Gallery."
    },
    "description": {
      "type": "string",
      "title": "Description",
      "pattern": "^[^\\s]+(\\s+[^\\s]+)*$",
      "maxLength": 2048,
      "minLength": 16,
      "description": "It helps people understand what the experience provides. It will be displayed in the Gallery."
    },
    "screenshots": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/link"
      },
      "title": "Screenshots",
      "minItems": 1,
      "description": "Screenshots of the experience. They will be displayed in the Gallery.",
      "uniqueItems": true
    },
    "downloadLink": {
      "$ref": "#/$defs/link",
      "title": "Download link",
      "description": "The link to the experience's download file."
    },
    "fileSize": {
      "type": "integer",
      "title": "File size",
      "description": "The size of the experience's download file in bytes."
    },
    "categories": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/category"
      }
    },
    "contributors": {
      "type": "array",
      "items": {
        "$ref": "#/$defs/githubLink"
      },
      "title": "Contributors",
      "minItems": 0,
      "description": "People who have meaningfully contributed to the experience.",
      "uniqueItems": true
    }
  },
  "required": [ "id", "author", "license", "title", "description", "categories", "screenshots", "downloadLink" ],
  "$defs": {
    "link": {
      "type": "string",
      "pattern": "^(http(s?):\\/\\/)?(www\\.)?[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$",
      "maxLength": 255,
      "minLength": 2
    },
    "githubLink": {
      "type": "string",
      "pattern": "^(http(s?):\\/\\/)?(www\\.)?github\\.([a-z])+\\/([A-Za-z0-9]{1,})+\\/?$",
      "maxLength": 75,
      "minLength": 2
    },
    "category": {
      "type": "string",
      "enum": [
        "Dashboard",
        "Work",
        "Education",
        "Personal Growth",
        "Project tracking",
        "Collection",
        "Health & Fitness",
        "Finance",
        "Food & Nutrition",
        "Travel",
        "Hobbies",
        "Home",
        "Other"
      ]
    }
  }
}